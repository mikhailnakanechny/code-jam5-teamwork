{"version":3,"sources":["webpack:///./src/components/searchPage/Search.js","webpack:///./src/pages/directors-list.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js"],"names":["Search","props","_this","_Component","call","this","state","persons","data","concat","search","order","orderInput","ada","searchByName","bind","assertThisInitialized_default","setSort","setInputSort","e","value","target","setState","linkToPersonPage","id","window","localStorage","setItem","location","assign","render","checkInput","_this2","copyArray","check","sort","a","b","name","filter","person","toLowerCase","includes","react_default","createElement","className","placeholder","onChange","map","key","onClick","placeOfBirth","dateOfDeath","src","photo","alt","width","height","Component","__webpack_require__","d","__webpack_exports__","query","withI18next","withNamespaces","_ref","t","layout","components_searchPage_Search","dP","f","FProto","Function","prototype","nameRE","configurable","get","match","$export","$includes","P","el","arguments","length","undefined","context","F","searchString","indexOf","isRegExp","defined","module","exports","that","NAME","TypeError","String","MATCH","KEY","re","aFunction","toObject","fails","$sort","test","comparefn","method","arg"],"mappings":"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","file":"component---src-pages-directors-list-js-cdb15e2e0e7592222ce1.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport './Search.css'\r\nimport data from '../../data/person_content.json'\r\n\r\nclass Search extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [...data],\r\n      search: '',\r\n      order: '',\r\n      orderInput: 'name',\r\n      ada: true,\r\n    }\r\n\r\n    this.searchByName = this.searchByName.bind(this)\r\n    this.setSort = this.setSort.bind(this)\r\n    this.setInputSort = this.setInputSort.bind(this)\r\n  }\r\n\r\n  searchByName (e) {\r\n    let value = e.target.value\r\n\r\n    this.setState({ search: value })\r\n  }\r\n\r\n  setSort (e) {\r\n    let value = e.target.value\r\n\r\n    this.setState({ order: value })\r\n  }\r\n\r\n  setInputSort (e) {\r\n    let value = e.target.value\r\n\r\n    this.setState({ orderInput: value })\r\n  }\r\n\r\n  linkToPersonPage (id) {\r\n    window.localStorage.setItem('id', id)\r\n    window.location.assign('/person-page')\r\n  };\r\n\r\n  render () {\r\n    let copyArray = [...this.state.persons]\r\n\r\n    if (this.state.order) {\r\n      let check = this.state.order === 'az' ? 1 : -1\r\n      copyArray.sort((a, b) => {\r\n        if (a.name > b.name) {\r\n          return check\r\n        } else {\r\n          return -check\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this.state.search) {\r\n      let checkInput\r\n      if (this.state.orderInput) {\r\n        checkInput = this.state.orderInput === 'name' ? 'name' : 'placeOfBirth'\r\n      }\r\n\r\n      copyArray = copyArray.filter(person => {\r\n        return person[checkInput]\r\n          .toLowerCase().includes(this.state.search.toLowerCase())\r\n      })\r\n    }\r\n\r\n    return (\r\n      <div className=\"search\">\r\n        <div className=\"search__block\">\r\n          <div className=\"search__block__cnt\">\r\n            <input placeholder=\"Поиск по:\" onChange={this.searchByName} />\r\n            <select onChange={this.setInputSort} className=\"\">\r\n              <option value=\"name\">имени</option>\r\n              <option value=\"place\">локации</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"select-label\">Сортировать по имени:</label>\r\n            <select onChange={this.setSort}>\r\n              <option value=\"az\">A-Z</option>\r\n              <option value=\"za\">Z-A</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        {this.state.ada ? (\r\n          <div className=\"search__block__list\">\r\n            {copyArray.map(person => (\r\n              <div\r\n                className=\"search__block__one\"\r\n                key={person.id}\r\n                onClick={() => this.linkToPersonPage(person.id)}\r\n              >\r\n                <div>\r\n                  <div>\r\n                    <span>Имя:</span> {person.name}\r\n                  </div>\r\n                  <div>\r\n                    <span>Место рождения:</span> {person.placeOfBirth}\r\n                  </div>\r\n                  <div>\r\n                    <span>Дата смерти:</span> {person.dateOfDeath}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <img\r\n                    src={person.photo}\r\n                    alt={person.name}\r\n                    width=\"100px\"\r\n                    height=\"100px\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { Link } from 'gatsby'\r\n\r\nimport { graphql } from 'gatsby';\r\nimport { withNamespaces } from 'react-i18next';\r\nimport { withI18next } from 'gatsby-plugin-i18next';\r\n\r\nimport Search from '../components/searchPage/Search'\r\nimport Layout from '../components/layout';\r\n\r\nconst DirectorsList = ({ t }) => (\r\n  <Layout>\r\n    <Search />\r\n  </Layout>\r\n)\r\n\r\nexport default withI18next()(withNamespaces()(DirectorsList));\r\n\r\nexport const query = graphql`\r\n  query($lng: String!) {\r\n    locales: allLocale(filter: { lng: { eq: $lng }, ns: { eq: \"messages\" } }) {\r\n      ...TranslationFragment\r\n    }\r\n  }\r\n`;\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n"],"sourceRoot":""}